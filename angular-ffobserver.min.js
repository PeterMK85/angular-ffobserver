(function(e){"use strict";angular.module("angular-ffobserver",["ngCookies"]).constant("FontFaceObserver",e.FontFaceObserver).directive("ffobserver",ffobserver)})(window);ffobserver.$inject=["$q","FontFaceObserver","$cookies"];function ffobserver(e,s,r){"use strict";function o(o,n,t){if(!t.ffobserverFonts){return console.log("ERROR: Fonts declaration missing")}var a=JSON.parse(t.ffobserverFonts);var f=t.ffobserverClass||"fonts-loaded";var i=t.ffobserverCookieKey||"fonts-loaded";var c=t.ffobserverCookieValue||"fonts-loaded";var l=[];if(n[0].classList.contains(f)||n[0].className.indexOf(f)>-1){return}if(r.get(i)===undefined){a.forEach(function(e){l.push(new s(e[0],e[1]).check())});e.all(l).then(function(){if(n[0].classList){n[0].classList.add(f)}else{n[0].className+=" "+f}r.put(i,c)},function(e){console.log("ERROR: FontFaceObserver promise rejected:",e)})}else{if(n[0].classList){n[0].classList.add(f)}else{n[0].className+=" "+f}}}var n={link:o,restrict:"A"};return n}